global:
  defaultStorageClass: sc-example
  kibanaEnabled: true
  elasticsearch:
    service:
      name: elasticsearch
      ports:
        restAPI: 9200

clusterDomain: cluster.local

## user name elastic
security:
  enabled: true
  tls:
    restEncryption: false
    autoGenerated: true

image:
  registry: docker.io
  repository: bitnami/elasticsearch
#  tag: 8.17.1-debian-12-r0

extraEnvVars:
  - name: TZ
    value: Asia/Shanghai

# 先使用单节点模式，后面有需求可以再扩展
master:
  masterOnly: false
  replicaCount: 1
  requests:
    cpu: 1
    memory: 1Gi
  limits:
    cpu: 2
    memory: 8Gi
  persistence:
    size: 50Gi
data:
  replicaCount: 0
  # persistence:
  #   size: 50Gi
coordinating:
  replicaCount: 0
ingest:
  replicaCount: 0

service:
  type: ClusterIP

kibana:
  clusterDomain: cluster.local

  auth:
    username: elastic

  elasticsearch:
    security:
      auth:
        enabled: true
        elasticsearchPasswordSecret: "elasticsearch"
        createSystemUser: true
      tls:
        enabled: false

  extraEnvVars:
    - name: TZ
      value: Asia/Shanghai

  persistence:
    annotations:
      helm.sh/resource-policy: keep
    size: 10Gi

  ingress:
    enabled: true
    hostname: es.git.example.com
    path: /
    annotations:
      helm.sh/resource-policy: keep
      kubernetes.io/tls-acme: "true"
      cert-manager.io/cluster-issuer: example.com-letsencrypt-issuer
      nginx.ingress.kubernetes.io/whitelist-source-range: "10.0.0.0/8"
    tls: false
    extraTls:
      - hosts:
          - git.example.com
          - "*.git.example.com"
        secretName: git.example.com-tls
    ingressClassName: "nginx"

  resources:
    requests:
      cpu: 500m
      memory: 1Gi
    limits:
      cpu: 2
      memory: 4Gi
